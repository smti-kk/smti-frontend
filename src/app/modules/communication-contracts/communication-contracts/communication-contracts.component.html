<!--suppress HtmlFormInputWithoutLabel -->
<main class="main">
  <div class="wrapper">
    <h1>Сводная таблица - Контракты услуг связи</h1>
    <div class="c-contract">
      <div class="c-contract-item" *ngFor="let location of locations">
        <accordion>
          <group>
            <accordion-header>
              <div class="c-contract-header" style="width: 100%">
                <div class="c-location-name">
                  <div class="c-location-name-item1">{{location.fullName}}</div>
                  <div class="c-location-name-item2">{{location.municipalityArea}}</div>
                </div>
                <div class="location-count">Количество: <span>{{location.organizations.length}}</span></div>
              </div>
            </accordion-header>
            <accordion class="c-accordion" *ngFor="let organization of location.organizations; let i = index">
              <group>
                <accordion-header class="c-accordion-title">
                  <div class="c-accordion-number">{{i + 1}}</div>
                  <div class="c-accordion-name">
                    <div>{{organization.fullName}}</div>
                    <div>{{organization.address}}</div>
                  </div>
                </accordion-header>
                <div class="l-contract" *ngFor="let contract of organization.contracts">
                  <div class="c-contract-info"><i class="far fa-file-alt"></i>№ {{contract.registrationNumber}}</div>
                  <div class="c-contract-info"><i class="far fa-money-bill-alt"></i>{{contract.amount}}</div>
                  <div class="l-contract-item u-span2" *ngFor="let point of contract.reaccesspoints">
                    <div class="c-contract-info u-span5"><i class="far fa-map-marker-alt"></i><span>{{point.address ? point.address : '----'}}</span></div>
                    <div class="c-contract-info"><i class="fas fa-bullhorn"></i><span>{{point.contractor ? point.contractor : '----'}}</span></div>
                    <div class="c-contract-info"><i class="fab fa-internet-explorer"></i><span>Интернет</span></div>
                    <div class="c-contract-info"><i class="fas fa-plug"></i><span>{{point.connectionType[0] ? point.connectionType[0].name : '----'}}</span></div>
                    <div class="c-contract-info"><i class="fas fa-tachometer-alt"></i><span>{{point.definedSpeed ? point.definedSpeed : '----'}}</span></div>
                    <div class="c-contract-info"><i class="far fa-map"></i><span>{{point.ipConfig ? point.ipConfig : '----'}}</span></div>
                  </div>
                </div>
              </group>
            </accordion>
          </group>
        </accordion>
      </div>
    </div>
  </div>
</main>

<ngx-spinner
  bdOpacity=0.9
  size="medium"
  color="#35a584"
  type="ball-atom"
  class="spinner"
  [fullScreen]="true"
>Загрузка. . .
</ngx-spinner>
